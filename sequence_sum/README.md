# 数列求和计算项目

这个项目包含了计算数列 1² + 2² + 3² + ... + n² 的和的多种实现方法，并提供了完整的单元测试。

## 文件结构

```
sequence_sum/
├── square_sum.py          # 数列求和计算函数
├── test_square_sum.py     # 单元测试文件
├── example.py            # 使用示例
└── README.md            # 项目说明文档
```

## 功能特性

### 四种实现方法

1. **公式方法** (`square_sum(n)`)
   - 使用数学公式：S(n) = n(n+1)(2n+1)/6
   - 时间复杂度: O(1)
   - 空间复杂度: O(1)
   - 推荐用于生产环境

2. **迭代方法** (`square_sum_iterative(n)`)
   - 使用循环迭代计算
   - 时间复杂度: O(n)
   - 空间复杂度: O(1)
   - 适合理解算法逻辑

3. **递归方法** (`square_sum_recursive(n)`)
   - 使用递归计算
   - 时间复杂度: O(n)
   - 空间复杂度: O(n)
   - 仅适用于小值，大值会导致栈溢出

4. **记忆化方法** (`square_sum_memoization(n)`)
   - 结合递归和缓存
   - 时间复杂度: O(n)
   - 空间复杂度: O(n)
   - 适合需要多次计算相同值的场景

## 使用方法

### 基本使用

```python
from square_sum import square_sum

# 计算前10个自然数的平方和
result = square_sum(10)
print(result)  # 输出: 385
```

### 运行示例

```bash
cd sequence_sum
python3 example.py
```

### 运行测试

```bash
cd sequence_sum
python3 test_square_sum.py
```

## 函数说明

### square_sum(n)

使用数学公式计算数列 1² + 2² + 3² + ... + n² 的和。

**参数:**
- `n` (int): 数列的项数，必须是非负整数

**返回值:**
- `int`: 数列的和

**异常:**
- `ValueError`: 当n为负数时抛出
- `TypeError`: 当n不是整数时抛出

### square_sum_iterative(n)

使用迭代方法计算数列的和。

### square_sum_recursive(n)

使用递归方法计算数列的和。

**注意:** 此方法仅适用于较小的n值，大值会导致栈溢出。

### square_sum_memoization(n, memo=None)

使用记忆化方法计算数列的和。

**参数:**
- `n` (int): 数列的项数
- `memo` (dict, 可选): 用于存储已计算结果的字典

## 数学公式

数列 1² + 2² + 3² + ... + n² 的和可以用以下公式计算：

**S(n) = n(n+1)(2n+1)/6**

### 公式验证

前几个数列和：
- n=1: 1² = 1
- n=2: 1² + 2² = 1 + 4 = 5
- n=3: 1² + 2² + 3² = 1 + 4 + 9 = 14
- n=4: 1² + 2² + 3² + 4² = 1 + 4 + 9 + 16 = 30
- n=5: 1² + 2² + 3² + 4² + 5² = 1 + 4 + 9 + 16 + 25 = 55

## 测试覆盖

单元测试包括：

- ✅ 基础情况测试 (n = 0, 1, 2, 3, ...)
- ✅ 较大数字测试 (n = 20, 50, 100)
- ✅ 负数输入测试
- ✅ 无效输入测试 (浮点数、字符串等)
- ✅ 方法一致性测试
- ✅ 数学公式验证测试
- ✅ 性能比较测试

## 性能说明

- **公式方法**: 最适合生产环境，时间复杂度O(1)，速度最快
- **迭代方法**: 适合理解算法逻辑，时间复杂度O(n)
- **记忆化方法**: 适合需要重复计算相同值的场景
- **递归方法**: 仅用于教学目的，实际应用中应避免

## 错误处理

所有函数都包含完善的错误处理：

- 检查输入类型是否为整数
- 检查输入值是否为非负数
- 提供清晰的错误信息

## 实际应用

这个数列求和在实际中有多种应用：

1. **统计学**: 计算方差和标准差
2. **物理学**: 计算动能和势能
3. **工程学**: 计算面积和体积
4. **计算机科学**: 算法复杂度分析

## 扩展功能

项目还包含以下辅助函数：

- `verify_formula()`: 验证数学公式的正确性
- `print_sequence_examples()`: 打印数列示例 